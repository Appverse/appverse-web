#set( $symbol_pound = '#' )
#set( $symbol_dollar = '$' )
#set( $symbol_escape = '\' )
<?xml version="1.0" encoding="UTF-8"?> 
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
       xmlns:p="http://www.springframework.org/schema/p" xmlns:aop="http://www.springframework.org/schema/aop" 
       xmlns:tx="http://www.springframework.org/schema/tx" xmlns:context="http://www.springframework.org/schema/context" 
       xmlns:ehcache="http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring" xmlns:task="http://www.springframework.org/schema/task" 
       xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd 
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd 
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd 
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd 
       http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd 
       http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd" 
       default-autowire="byName"> 

      <!-- ============================================================================================= --> 
      <!-- Property Files                                                                                --> 
      <!-- ============================================================================================= --> 
      <context:property-placeholder location="classpath:properties/*.properties" />     
        
      <!-- ============================================================================================= --> 
      <!-- Dozer converter                                                        	                     --> 
      <!-- ============================================================================================= --> 
      <bean id="conversionService"  class="org.dozer.spring.DozerBeanMapperFactoryBean"> 
          <property name="mappingFiles" value="classpath*:dozer/*bean-mappings.xml"/> 
      </bean>   

   	  <!-- ============================================================================================= --> 
      <!-- Autowired Logger BeanFactoryPostProcessor                                            	     --> 
      <!-- ============================================================================================= -->   
      <bean class="org.appverse.web.framework.backend.api.helpers.log.AutowiredLoggerBeanPostProcessor" />         
                  
      <!-- ============================================================================================= --> 
      <!-- Autowired Logger BeanFactoryPostProcessor                                                     --> 
      <!-- ============================================================================================= -->   

      <bean id="profilingAdvice" class="org.appverse.web.framework.backend.api.aop.advices.ProfilingAdvice" /> 
      <bean id="exceptionAdvice" class="org.appverse.web.framework.backend.api.aop.advices.ExceptionAdvice" /> 
      <bean id="profileManager" class="org.appverse.web.framework.backend.api.aop.managers.impl.live.ProfileManagerImpl" /> 
      <bean id="exceptionManager" class="org.appverse.web.framework.backend.api.aop.managers.impl.live.ExceptionManagerImpl" />         

      <aop:config> 
          <aop:pointcut id="allPresentationServicesMethodsCalls" expression="execution(* ${package}.backend.services.presentation..*.*(..))"/> 
          <aop:pointcut id="allBusinessServicesMethodsCalls" expression="execution(* ${package}.backend.business.integration..*.*(..))"/>           
          <aop:pointcut id="allIntegrationServicesMethodsCalls" expression="execution(* ${package}.backend.services.integration..*.*(..))"/> 
          <aop:pointcut id="allServicesMethodsCalls" expression="execution(* ${package}.backend.services..*.*(..))"/> 
          <aop:advisor advice-ref="profilingAdvice" pointcut-ref="allServicesMethodsCallsWithoutGetEndPoint"/> 
          <aop:advisor advice-ref="exceptionAdvice" pointcut-ref="allServicesMethodsCalls"/> 
      </aop:config> 
            
      <!-- ============================================================================================= --> 
      <!-- Imports and Component Scans                                                                   --> 
      <!-- ============================================================================================= -->    
      <import resource="database-config.xml" />
      	                                                                              
      <context:component-scan  base-package="${package}.backend.services.presentation.impl.live"/> 
      <context:component-scan  base-package="${package}.backend.services.business.impl.live"/> 
      <context:component-scan  base-package="${package}.backend.services.integration.impl.live"/> 
      <context:component-scan  base-package="${package}.backend.converters.p2b"/> 
      <context:component-scan  base-package="${package}.backend.converters.b2i"/>  
                      
</beans> 